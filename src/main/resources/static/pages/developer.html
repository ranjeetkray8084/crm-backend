<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- SEO Meta Tags -->
  <title>Lead Tracker | Real Estate CRM</title>
  <meta name="description" content="Track, manage, and follow up on your real estate leads with our powerful CRM Lead Tracker." />
  <meta name="keywords" content="Lead Tracker, Real Estate CRM, Lead Management, Follow-up Tracker, Sales CRM Dashboard" />
  <meta name="author" content="Your Company Name" />

  <!-- Open Graph Meta Tags (Social Media Preview) -->
  <meta property="og:title" content="Lead Tracker | Real Estate CRM" />
  <meta property="og:description" content="Track and manage leads effectively with our Real Estate CRM Lead Tracker dashboard." />
 <meta property="og:image" content="https://leadtracker.in" />
  <meta property="og:url" content="https://leadtracker.in" />
  <meta property="og:type" content="website" />

  <!-- Canonical URL -->
  <link rel="canonical" href="https://leadstracker.in" />

  <!-- Favicon -->
  <link rel="icon" href="../assets/images/favicon.ico" type="image/x-icon" />

  <!-- Stylesheets -->
  <link rel="stylesheet" href="../assets/css/comman/comman.css" />
  <link rel="stylesheet" href="../assets/css/comman/custemcustomAlert.css" />
  <link rel="stylesheet" href="../assets/css/comman/responsive.css" />
  <link rel="stylesheet" href="../assets/css/comman/footer.css">
</head>


<body>
  <div class="container">
    <aside class="sidebar">
      <div style="display: flex;">
            <img src="../assets/img/logo.jpeg" alt="Logo" style="margin: 10px 10px 10px 10px; height: 40px; vertical-align: middle; margin-right: 8px; border-radius: 20px;">
            <h2 class="logo">
              LeadsTracker
              <span style="font-size: 13px;">(By Smartprocare)</span>
            </h2>
      </div>      <ul class="nav-links">
        <button onclick="showSection('ViewDashboard')" ><i class="icon">📊</i> Dashboard</button>
        <button onclick="showSection('addCompany')"><i class="icon">➕</i> Add Company</button>
        <button onclick="showSection('ViewCompany')"><i class="icon">👁️</i> View Company</button>
        <button onclick="showSection('AddAdmin')"><i class="icon">➕</i> Add Admin / Users</button>
        <button onclick="showSection('ViewAdmins')"><i class="icon">👁️</i> View Admin</button>
        <button onclick="showSection('ViewDirector')"><i class="icon">👁️</i> View Director</button>
        <button onclick="showSection('ViewUsers')"><i class="icon">👁️</i> View Users</button>
        <button onclick="showSection('ViewAccount')"><i class="icon">👤</i> Account</button>
        <button onclick="showSection('logout')"><i class="icon">🚪</i> Log Out</button>
      </ul>
    </aside>

    <main class="main-content">
      <header class="header-section">
        <button class="sidebar-toggle" onclick="toggleSidebar()">☰</button>
        <div class="welcome-message">
          <h1>Welcome <span>Lead Tracker</span></h1>
          <p>Let's take a detailed look at our workplace...</p>
        </div>
        <div class="search-container">
          <input type="text" placeholder="Search here" />
          <span class="search-icon">🔍</span>
        </div>
        <i class="icon">🔔</i>
        <div class="profile-section" onclick="document.getElementById('avatarInput').click();">
          <div class="profile-info">
            <span class="name" id="userName">Chandra Vikas</span>
            <span class="role" id="userRole">User</span>
          </div>
          <input type="file" id="avatarInput" style="display: none;" />
          <input type="text" id="avatarNameInput" placeholder="Enter avatar name (optional)" style="display: none;" />
          <img id="avatarPreview" src="assets/default-avatar.png" alt="Avatar Preview" />
        </div>
      </header>

      <div id="dashboard-stats">
        <!-- Content from JavaScript will be injected here -->
      </div>

       <div id="custom-custemcustomAlert" class="custom-custemcustomAlert hidden">
          <div class="custom-custemcustomAlert-box">
            <p id="custom-custemcustomAlert-message"></p>
            <button onclick="closeCustomcustemcustomAlert()">OK</button>
          </div>
        </div>
    </main>
  </div>

  <!-- Custom customAlert -->
 
  
  <footer id="footer"></footer>


  <!-- Scripts -->
  <script>




    function toggleSidebar() {
      const sidebar = document.querySelector(".sidebar");
      sidebar.classList.toggle("active");
    }
     document.addEventListener("DOMContentLoaded", () => {
    const sidebarButtons = document.querySelectorAll(".sidebar button");
    sidebarButtons.forEach(button => {
      button.addEventListener("click", () => {
        document.querySelector(".sidebar").classList.remove("active");
      });
    });
  });

    function custemcustomAlert(message) {
      const custemcustomAlertBox = document.getElementById("custom-custemcustomAlert");
      const custemcustomAlertMessage = document.getElementById("custom-custemcustomAlert-message");

      custemcustomAlertMessage.textContent = message;
      custemcustomAlertBox.classList.remove("hidden");
    }

    function closeCustomcustemcustomAlert() {
      document.getElementById("custom-custemcustomAlert").classList.add("hidden");
    }


    setInterval(async () => {
    try {
      const res = await fetch("/api/users/check-session", {
        credentials: "include"
      });

      if (!res.ok) {
        const result = await res.json();
        customAlert(result.message || "⚠️ Session expired. Please login again.");
        window.location.href = "/";
      }
    } catch (err) {
      customAlert("⚠️ Session expired. Please login again.");
      window.location.href = "/";
    }
  }, 5000);
    



  </script>

  <script src="../assets/js/developer/developer.js"></script>
  <script src="../assets/js/developer/add.js"></script>
  <script src="../assets/js/comman/dashboard.js"></script>
  <script src="../assets/js/developer/company.js"></script>
  <script src="../assets/js/comman/footer.js"></script>
  <!-- <script src="/assets/js/comman/responsive.js"></script> -->
</body>
</html>
